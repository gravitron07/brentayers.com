
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">
<dom-module id="project-detail">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    <article class="pageBound">
        <iron-ajax handle-as="json" url$="{{buildURL()}}" last-response="{{data}}"></iron-ajax>
        <header class="col--12-12 pad">
          <h2 class="sectionHead">Tees With Tude</h2>
        </header>
        <div class="workItemContent col--12-12-xs col--6-12">
          <div class="contentItem col--12-12 pad">
            <h3 class="contentItem__head">Project:</h3>
            <p class="contentItem__p">Re/Max wanted to create a site to help educate first time home buyers on the $8000 tax credit that would also work with their previously launched print campaign.</p>
          </div>
          <div class="contentItem col--12-12-sm col--6-12 pad">
            <h3 class="contentItem__head">Deliverables:</h3>
            <ul class="contentItem__list">
              <li class="contentItem__item">2 Microsites</li>
            </ul>
          </div>
          <div class="contentItem col--12-12-sm col--6-12 pad">
            <h3 class="contentItem__head">Technologies Used:</h3>
            <ul class="contentItem__list">
              <li class="contentItem__item">jquery</li>
              <li class="contentItem__item">flash</li>
              <li class="contentItem__item">css</li>
              <li class="contentItem__item">html</li>
            </ul>
          </div>
        </div>
        <div class="workItemImages col--12-12-xs col--6-12 pad">
          <div class="col--12-12 pad"><a class="workNav__anchor" href="/work/work1"><img class="workNav__image" src="images/projects/test-image.jpg"/></a></div>
          <div class="col--12-12-sm col--6-12 pad"><a class="workNav__anchor" href="/work/work1"><img class="workNav__image" src="images/projects/test-image.jpg"/></a></div>
          <div class="col--12-12-sm col--6-12 pad"><a class="workNav__anchor" href="/work/work1"><img class="workNav__image" src="images/projects/test-image.jpg"/></a></div>
        </div>


      <nav class="workNav">
        <template is="dom-repeat" items="{{data}}">
          <project-link class$="{{getClass(index)}}" path="{{item.path}}" label="{{item.label}}" image="{{item.image}}"></project-link>
        </template>
      </nav>
    </article>
  </template>
</dom-module>
<script>
  (function() {
    Polymer({
      is: 'project-detail',
      getClass: function(index) {
        return (index > 0) ? "col--3-12 col--6-12-md pad" : "col--6-12 col--12-12-md pad";
      },
      buildURL: function(path) {
        console.log(this);
        return 'api/project/'+ path;
      },
      attached: function() {
          console.log(this.path);
          this.$$('iron-ajax').params = {};
          this.$$('iron-ajax').generateRequest();
      }
    });
  })();
</script>